* Use switch-window for switching between windows
  #+BEGIN_SRC emacs-lisp
    (iqbal-install-package 'switch-window)
    (global-set-key (kbd "C-x o") 'switch-window)
  #+END_SRC


* Install transpose-frame
  #+BEGIN_SRC emacs-lisp
    (iqbal-install-package 'transpose-frame)

    (autoload #'transpose-frame "transpose-frame" "Transpose windows arrangement at FRAME." t)
    (autoload #'flip-frame "transpose-frame" "Flip windows arrangement vertically at FRAME." t)
    (autoload #'flop-frame "transpose-frame" "Flop windows arrangement horizontally at FRAME." t)
    (autoload #'rotate-frame "transpose-frame" "Rotate windows arrangement 180 degrees at FRAME." t)
    (autoload #'rotate-frame-clockwise "transpose-frame" "Rotate windows arrangement 90 degrees clockwise at FRAME." t)
    (autoload #'rotate-frame-anticlockwise "transpose-frame" "Rotate windows arrangement 90 degrees anti-clockwise at FRAME." t)
  #+END_SRC


* Enable popwin, automatically gets rid of useless windows
** Enable popwin
  #+BEGIN_SRC emacs-lisp
    (iqbal-install-package 'popwin)
    (require 'popwin)
    (popwin-mode 1)
  #+END_SRC

** Popwin config
   #+BEGIN_SRC emacs-lisp
     (push '(grep-mode :dedicated t :width 0.5 :position right :stick t :noselect t) popwin:special-display-config)
     (push '(occur-mode :dedicated t :width 0.5 :position right :stick t :noselect t) popwin:special-display-config)
     (push '(help-mode :dedicated t :width 0.5 :position right :stick nil) popwin:special-display-config)
     (setq popwin:special-display-config (delete 'slime-repl-mode popwin:special-display-config))
   #+END_SRC


* Use qwerty shortcuts to switch windows
  #+BEGIN_SRC emacs-lisp
    (setq switch-window-shortcut-style 'qwerty)
  #+END_SRC


* Use windmove to select windows using ctrl + arrow keys
** Use default keybindings
  #+BEGIN_SRC emacs-lisp
    (windmove-default-keybindings 'control)
  #+END_SRC

** Wrap around when moving off last window in a direction
   #+BEGIN_SRC emacs-lisp
     (setq windmove-wrap-around t)
   #+END_SRC


* Switch to bar cursor type before invoking switch-window
  Box cursor doesn't look good in switch-window
  #+BEGIN_SRC emacs-lisp
    (defadvice switch-window (around switch-to-bar-cursor)
      (let ((cursor-type nil))
        ad-do-it))

    (ad-activate 'switch-window)
  #+END_SRC


* Open current buffer in new frame
  #+BEGIN_SRC emacs-lisp
    (defun detach-window ()
      "Close current window and re-open it in new frame."
      (interactive)
      (let ((current-buffer (window-buffer)))
        (delete-window)
        (select-frame (make-frame))
        (set-window-buffer (selected-window) current-buffer)))
  #+END_SRC


* Enable winner mode
  #+BEGIN_SRC emacs-lisp
    (winner-mode 1)
  #+END_SRC


* Shorter keybinding to switch windows
  #+BEGIN_SRC emacs-lisp
    (global-set-key (kbd "M-o") #'other-window)
  #+END_SRC


* Keybindings to split windows
  #+BEGIN_SRC emacs-lisp
    (defun iqbal-split-window-vertically ()
      (interactive)
      (select-window (split-window-vertically)))

    (defun iqbal-split-window-horizontally ()
      (interactive)
      (select-window (split-window-horizontally)))

    (global-set-key (kbd "C-x -") #'iqbal-split-window-vertically)
    (global-set-key (kbd "C-x \\") #'iqbal-split-window-horizontally)
  #+END_SRC

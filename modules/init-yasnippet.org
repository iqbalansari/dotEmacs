* Ensure that required packages are installed
  #+begin_src emacs-lisp
    (my-install-package 'yasnippet)
  #+end_src


* Do not use '~/.emacs.d' in yas-snippets-dir
  Rather use the absolute path to '~/.emacs.d/snippets'
  #+begin_src emacs-lisp
    (load "yasnippet")
    (setq yas-snippet-dirs (append (list (locate-user-emacs-file "snippets/"))
                                   (remove "~/.emacs.d/snippets" yas-snippet-dirs)))
  #+end_src


* Use ido to prompt for snippets
  #+begin_src emacs-lisp
    (setq yas-prompt-functions
          (cons 'yas-ido-prompt
                (remove 'yas-ido-prompt
                        yas-prompt-functions)))
  #+end_src


* Set verbosity to zero
  #+begin_src emacs-lisp
    (setq yas-verbosity 0)
  #+end_src


* Leave my tab alone
** Disable snippet expansion on tab, it is annoying
  #+begin_src emacs-lisp
    (define-key yas-minor-mode-map (kbd "TAB") nil)
    (define-key yas-minor-mode-map [(tab)] nil)
  #+end_src

** Use company-mode to expand snippet otherwise use ido
   #+begin_src emacs-lisp
     (defun my-expand-yas ()
       (interactive)
       (call-interactively (if (bound-and-true-p company-mode)
                               #'company-yasnippet
                             #'yas-insert-snippet)))

     (eval-after-load "company"
       '(define-key yas-minor-mode-map (kbd "<C-return>") #'my-expand-yas))
   #+end_src


* Enable yasnippet global mode
  #+begin_src emacs-lisp
    (yas-global-mode)
  #+end_src

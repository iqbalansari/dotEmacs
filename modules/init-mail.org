* Install mu when on Linux
  #+begin_src emacs-lisp
    (when (eq system-type 'gnu/linux)
      ;; Install only if the prerequisites are satisfied
      (if (and (executable-find "xapian-config")
                 (executable-find "libtool")
                 (file-exists-p "/usr/include/gmime-2.6/gmime/gmime-certificate.h"))
        (el-get 'sync 'mu4e)
        (message "You need to install `autoreconf', `libtool', `libxapian-dev' and `libgmime-2.6-dev'\
     for building mu4e, use apt-get to install them")))
  #+end_src


* Install emacs interface to offlineimap if `offlineimap` is installed on system
  #+begin_src emacs-lisp
    (when (and (eq system-type 'gnu/linux)
               (executable-find "offlineimap"))
      (el-get 'sync 'offlineimap))
  #+end_src


* Use offlineimap to update messages in mu4e
  #+begin_src emacs-lisp
    (when (executable-find "offlineimap")
      (setq mu4e-get-mail-command "offlineimap"))
  #+end_src


* Use html2text (if installed) to render html messages
  #+begin_src emacs-lisp
    (when (executable-find "html2text")
      (setq mu4e-html2text-command "html2text -utf8 -width 72")
      (setq mu4e-view-prefer-html t))
  #+end_src


* View images inline in message view buffer
  #+begin_src emacs-lisp
    (setq mu4e-view-show-images t)

    (when (fboundp 'imagemagick-register-types)
      (imagemagick-register-types))
  #+end_src


* Save attachments in ~/Downloads directory
  #+begin_src emacs-lisp
    (setq mu4e-attachment-dir "~/Downloads")
  #+end_src

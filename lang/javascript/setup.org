* Configurations for js2-mode
** Underline errors
   #+begin_src emacs-lisp
     (set-face-attribute 'js2-error nil :underline "red" :foreground nil)
   #+end_src

** Indent 'case' on additional level inside 'switch' statements
   #+begin_src emacs-lisp
     (setq js2-indent-switch-body t)
   #+end_src

** Additional globals
   #+begin_src emacs-lisp
     (setq-default js2-global-externs '("module" "require" "setTimeout" "clearTimeout"
                                        "setInterval" "clearInterval" "console" "JSON"))
   #+end_src


* Enhancements for imenu
  #+begin_src emacs-lisp
    (js2-imenu-extras-mode)
  #+end_src


* Setup Tern for autocompletion and some refactoring
** Check ternjs availability
   #+begin_src emacs-lisp
     (setq my-ternjs-available (locate-library "tern"))
   #+end_src

** Enable tern-mode
   #+begin_src emacs-lisp
     (when my-ternjs-available
       (tern-mode t))
   #+end_src

** Setup tern backend for auto-completion if ternjs is available
   #+begin_src emacs-lisp
     (when my-ternjs-available
       (add-to-list 'company-backends 'company-tern))
   #+end_src


* REPL for javascript
** Should we use nodejs-repl
   nodejs-repl is better for node as it provides autocompletion, use it if inside
   a node project
   #+begin_src emacs-lisp
     (setq my-js-use-nodejs-repl (when buffer-file-name 
                                   (locate-dominating-file buffer-file-name "package.json")))
   #+end_src

** Skewer mode configuration
*** Enable skewer mode
  #+begin_src emacs-lisp
    (unless my-js-use-nodejs-repl
      (skewer-mode))
  #+end_src


* Setup code folding
  Enable "hs-minor-mode"
  #+begin_src emacs-lisp
    (hs-minor-mode)
  #+end_src

* Install tuareg-mode
  #+begin_src emacs-lisp
    (my-install-package 'tuareg)
  #+end_src


* Update emacs exec path so that emacs can locate opam packages
  OPAM packages likes merlin and utop come with required elisp files
  add the path to those files to load-path
  #+begin_src emacs-lisp
    (when (executable-find "opam")
      (dolist (var (car (read-from-string (shell-command-to-string "opam config env --sexp"))))
        (setenv (car var) (cadr var)))

      ;; Update the emacs path
      (setq exec-path (split-string (getenv "PATH") path-separator)))
  #+end_src


* Install merlin if ocamlmerlin is installed
  #+begin_src emacs-lisp
    (if (executable-find "ocamlmerlin")
        (my-install-packages '(auto-complete merlin))
      (warn "`ocamlmerlin' not installed, use opam to install it"))
  #+end_src


* Install utop package if utop is installed
  #+begin_src emacs-lisp
    (if (executable-find "utop")
        (my-install-package 'utop)
      (warn "`utop' not installed will use vanilla ocaml toplevel"))
  #+end_src

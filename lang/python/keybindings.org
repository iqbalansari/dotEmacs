* Unbind offending keybindings
  
  #+begin_src emacs-lisp
    (local-unset-key (kbd "C-c r"))
  #+end_src


* Keybinding for python-mode
  #+begin_src emacs-lisp
    (local-set-key (kbd "RET") 'newline-and-indent)
    (local-set-key (kbd "C-c C-r") 'iqbal-py-send-region)
    (local-set-key (kbd "C-c C-l") 'iqbal-py-send-line)
    
  #+end_src
  

* Set keybindings for jumping to definition
  
  #+begin_src emacs-lisp
    (local-set-key iqbal-jump-to-definition 'jedi:goto-definition)
    (local-set-key iqbal-pop-jump-to-definition-marker 'jedi:goto-definition-pop-marker)
    (local-set-key iqbal-show-doc 'jedi:show-doc)
  #+end_src


* TODO Keybinding for nosetests menu
  #+begin_src emacs-lisp
    (local-set-key "\C-ct" (lambda ()
                              (interactive)
                              (mag-menu '(title
                                          (switches
                                           ("-d" "Drop into debugger on errors" "--pdb"))
                                          (actions
                                           ("a" "Run all nose tests" 
                                            (lambda (options) (iqbal-execute-nose-tests options #'nosetests-all)))
                                           ("b" "Run nosetests on current buffer" 
                                            (lambda (options) (iqbal-execute-nose-tests options #'nosetests-module)))
                                           ("p" "Run nosetests on testable thing at point in current buffer"
                                            (lambda (options) (iqbal-execute-nose-tests options #'nosetests-one))))))))
    
    (defun iqbal-execute-nose-tests (options nose-fn)
      (let ((debug (assoc "--pdb" options)))
        (funcall nose-fn debug)))
  #+end_src
  

* Set keybindings for refactoring

  #+begin_src emacs-lisp
    (local-set-key iqbal-refactor-rename 'rope-rename)
    (local-set-key iqbal-refactor-auto-import 'rope-auto-import)
    (local-set-key iqbal-refactor-organize-imports 'rope-organize-imports)  
  #+end_src

